<html>
<head>
<link href="../SmallTownSteam/css/bootstrap.css" rel="stylesheet">
<title>Admin Page</title>
<link rel="icon" type="image/x-icon" href="icon.png">
<link href="../SmallTownSteam/css/bootstrap.css" rel="stylesheet">
<style>
  table {
    border-collapse: collapse;
    width: 100%;
  }

  th, td {
    text-align: left;
    padding: 10px;
    vertical-align: center;
  }
  
  tr:nth-child(even) {
    background-color: #D6EEEE;
  }
</style>


</head>
<body>
  <?php
  $filename = "classes_and_registration/upcoming-classes.txt";
  $all_courses = file($filename);
  ?>
  <div class="container py-4">
        <header class="pb-3 mb-4 border-bottom">
        <div id="header">
        </div>
        </header>

        <div class="accordion" id="classesDropdown">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingOne">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      Upcoming Science Classes
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#classesDropdown">
                    <div class="accordion-body">
                      <table> 
                        <tr><th>Class Title</th><th>Date Offered</th><th>Attendees</th></tr>
                        
                      <?php
                      foreach ($all_courses as $science_course)
                          { 
                              $science_course = explode("===", $science_course);
                              if ($science_course[0] == 'Science')
                                {
                                  echo "<tr>";
                                  echo "<td> {$science_course[4]}</td>";
                                  echo "<td> {$science_course[1]} {$science_course[2]}, {$science_course[3]}</td>";
                                  echo "<td> <a href='classes_and_registration/{$science_course[0]}-{$science_course[1]}-{$science_course[2]}-{$science_course[3]}.txt'>View Attendees</a></td>";
                                  echo "</tr>";
                                  
                                }
                          }
                          echo "</table>"; 
                      ?>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingTwo">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Upcoming Technology Classes
                    </button>
                  </h2>
                  <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#classesDropdown">
                    <div class="accordion-body">
                        <table> 
                          <tr><th>Class Title</th><th>Date Offered</th><th>Attendees</th></tr>
                      <?php
                      foreach ($all_courses as $technology_course)
                      { 
                        $technology_course = explode("===", $technology_course);
                        if ($technology_course[0] == 'Technology')
                          {
                            echo "<tr>";
                              echo "<td> {$technology_course[4]}</td>";
                            echo "<td> {$technology_course[1]} {$technology_course[2]}, {$technology_course[3]}</td>";
                            echo "<td> <a href='classes_and_registration/{$technology_course[0]}-{$technology_course[1]}-{$technology_course[2]}-{$technology_course[3]}.txt'>View Attendees</a></td>";
                            echo "</tr>";
                            
                          }
                    }
                    echo "</table>"; 
                ?>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="headingThree">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                        Upcoming Engineering Classes
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#classesDropdown">
                    <div class="accordion-body">
                        <table> 
                          <tr><th>Class Title</th><th>Date Offered</th><th>Attendees</th></tr>
                          <?php
                          foreach ($all_courses as $engineer_course)
                          { 
                            $engineer_course = explode("===", $engineer_course);
                            if ($engineer_course[0] == 'Engineering')
                              {
                                echo "<tr>";
                                  echo "<td> {$engineer_course[4]}</td>";
                                echo "<td> {$engineer_course[1]} {$engineer_course[2]}, {$engineer_course[3]}</td>";
                                echo "<td> <a href='classes_and_registration/{$engineer_course[0]}-{$engineer_course[1]}-{$engineer_course[2]}-{$engineer_course[3]}.txt'>View Attendees</a></td>";
                                echo "</tr>";
                                
                              }
                        }
                        echo "</table>"; 
                    ?>
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                 <h2 class="accordion-header" id="headingFour">
                   <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Upcoming Art Classes
                          </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#classesDropdown">
                          <div class="accordion-body">
                              <table> 
                                <tr><th>Class Title</th><th>Date Offered</th><th>Attendees</th></tr>
                            <?php
                            foreach ($all_courses as $art_course)
                            { 
                              $art_course = explode("===", $art_course);
                              if ($art_course[0] == 'Art')
                                {
                                  echo "<tr>";
                                    echo "<td> {$art_course[4]}</td>";
                                  echo "<td> {$art_course[1]} {$art_course[2]}, {$art_course[3]}</td>";
                                  echo "<td> <a href='classes_and_registration/{$art_course[0]}-{$art_course[1]}-{$art_course[2]}-{$art_course[3]}.txt'>View Attendees</a></td>";
                                  echo "</tr>";
                                  
                                }
                          }
                          echo "</table>"; 
                      ?>
                          </div>
                        </div>
                      </div>
                  <div class="accordion-item">
                 <h2 class="accordion-header" id="headingFive">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                  Upcoming Math Classes
                          </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#classesDropdown">
                          <div class="accordion-body">
                              <table> 
                                <tr><th>Class Title</th><th>Date Offered</th><th>Attendees</th></tr>
                            <?php
                            foreach ($all_courses as $math_course)
                            { 
                              $math_course = explode("===", $math_course);
                              if ($math_course[0] == 'Math')
                                {
                                  echo "<tr>";
                                    echo "<td> {$math_course[4]}</td>";
                                  echo "<td> {$math_course[1]} {$math_course[2]}, {$math_course[3]}</td>";
                                  echo "<td> <a href='classes_and_registration/{$math_course[0]}-{$math_course[1]}-{$math_course[2]}-{$math_course[3]}.txt'>View Attendees</a></td>";
                                  echo "</tr>";
                                  
                                }
                          }
                          echo "</table>"; 
                      ?>
                          </div>
                        </div>
                      </div>
                      <p>Add a new course:
                        <form action="add-class.php" method="post">
                          Course Type: <select name = "track">
                            <option value = "Science" selected>Science</option>
                            <option value = "Technology">Technology</option>
                            <option value = "Engineering">Engineering</option>
                            <option value = "Art">Art</option>
                            <option value = "Math">Math</option>
                          </select>
                          &nbsp;
                          <label for="date">Date of Course: </label>
                          <input type="date" id="date" name="date"> </input> 
                          <br><br>
                          Course Title: <input type="text" name="title"> </input>
                          <br><br>
                          <input type="submit" value="Add Class"> </input>

                        </form>
                      </p>
              </div>
<div id="footer">
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="js/scripts.js"></script>
	<script src="//code.jquery.com/jquery.min.js"></script>
	<script>$(function(){
  		$("#header").load("navBar.html");
                $("#footer").load("footer.html");
		}); 
	</script>